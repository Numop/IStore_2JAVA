<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.control.cell.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="IStore.controller.StoreController"
            stylesheets="@../css/styles.css" styleClass="main-container">

    <!-- Header -->
    <top>
        <HBox spacing="20" alignment="CENTER_LEFT"
              style="-fx-background-color: #1a1a24; -fx-padding: 16 24; -fx-border-color: #252532; -fx-border-width: 0 0 1 0;">
            <Button text="â† Retour" onAction="#handleBack" styleClass="header-button"/>
            <VBox spacing="2">
                <Label fx:id="storeNameLabel" text="Magasin" style="-fx-text-fill: white; -fx-font-size: 20; -fx-font-weight: bold;"/>
                <Label text="Gestion de l'inventaire" style="-fx-text-fill: #6b7280; -fx-font-size: 12;"/>
            </VBox>
            <Region HBox.hgrow="ALWAYS"/>
        </HBox>
    </top>

    <!-- Content -->
    <center>
        <HBox spacing="24" style="-fx-padding: 24;">

            <!-- Inventaire -->
            <VBox spacing="16" HBox.hgrow="ALWAYS">
                <HBox spacing="12" alignment="CENTER_LEFT" minHeight="40">
                    <Label text="ðŸ“¦ Inventaire" styleClass="section-title" style="-fx-font-size: 18; -fx-font-weight: bold; -fx-text-fill: white;"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Button fx:id="addItemBtn" text="âž• Ajouter" onAction="#handleAddItem" styleClass="primary-button"/>
                </HBox>

                <VBox VBox.vgrow="ALWAYS" styleClass="card" style="-fx-padding: 0;">
                    <TableView fx:id="itemsTable" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="idColumn" text="ID" prefWidth="60"/>
                            <TableColumn fx:id="nameColumn" text="Nom" prefWidth="220"/>
                            <TableColumn fx:id="priceColumn" text="Prix (â‚¬)" prefWidth="100"/>
                            <TableColumn fx:id="quantityColumn" text="QuantitÃ©" prefWidth="100"/>
                        </columns>
                    </TableView>
                </VBox>

                <HBox spacing="10">
                    <Button text="Modifier" onAction="#handleEditItem" styleClass="secondary-button"/>
                    <Button fx:id="deleteItemBtn" text="âž– Supprimer" onAction="#handleDeleteItem" styleClass="danger-button"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Button text="ðŸ“¥ RÃ©ception (+)" onAction="#handleIncreaseStock" styleClass="success-button"/>
                    <Button text="ðŸ“¤ Vente (-)" onAction="#handleDecreaseStock" styleClass="warning-button"/>
                </HBox>
            </VBox>

            <!-- EmployÃ©s avec accÃ¨s -->
            <VBox spacing="16" prefWidth="280">
                <HBox alignment="CENTER_LEFT" minHeight="40">
                    <Label text="ðŸ‘¥ Ã‰quipe du magasin" styleClass="section-title" style="-fx-font-size: 18; -fx-font-weight: bold; -fx-text-fill: white;"/>
                </HBox>

                <VBox VBox.vgrow="ALWAYS" styleClass="card" style="-fx-padding: 0;">
                    <ListView fx:id="employeesListView" VBox.vgrow="ALWAYS"/>
                </VBox>

                <HBox spacing="10">
                    <Button fx:id="addEmployeeBtn" text="âž• Ajouter" onAction="#handleAddEmployee" styleClass="primary-button" HBox.hgrow="ALWAYS"/>
                    <Button fx:id="removeEmployeeBtn" text="âž– Retirer" onAction="#handleRemoveEmployee" styleClass="danger-button" HBox.hgrow="ALWAYS"/>
                </HBox>
            </VBox>

        </HBox>
    </center>

</BorderPane>
