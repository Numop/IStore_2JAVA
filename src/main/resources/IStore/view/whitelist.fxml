<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="IStore.controller.WhitelistController"
            stylesheets="@../css/styles.css" styleClass="main-container">

    <!-- Header -->
    <top>
        <HBox spacing="20" alignment="CENTER_LEFT"
              style="-fx-background-color: #2c3e50; -fx-padding: 15;">
            <Button text="← Retour" onAction="#handleBack" styleClass="header-button"/>
            <Label text="Whitelist des emails" style="-fx-text-fill: white; -fx-font-size: 20; -fx-font-weight: bold;"/>
        </HBox>
    </top>

    <!-- Content -->
    <center>
        <VBox spacing="20" style="-fx-padding: 20;">

            <Label text="Les utilisateurs doivent avoir leur email dans cette liste pour pouvoir créer un compte."
                   wrapText="true" style="-fx-text-fill: #7f8c8d;"/>

            <!-- Ajouter un email -->
            <HBox spacing="10" alignment="CENTER_LEFT">
                <TextField fx:id="emailField" promptText="email@exemple.com" prefWidth="300"/>
                <Button text="➕ Ajouter" onAction="#handleAddEmail" styleClass="primary-button"/>
            </HBox>

            <Separator/>

            <!-- Liste des emails -->
            <Label text="Emails autorisés:"/>
            <ListView fx:id="whitelistView" VBox.vgrow="ALWAYS"/>

            <Button text="➖ Supprimer l'email sélectionné" onAction="#handleRemoveEmail" styleClass="danger-button"/>

        </VBox>
    </center>

</BorderPane>
